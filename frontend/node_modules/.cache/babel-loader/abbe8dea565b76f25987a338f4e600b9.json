{"ast":null,"code":"var _jsxFileName = \"/Users/nelson/Developer/ManezCo/frontend/src/components/QuizStatistic/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { ArrowDownOutlined, ArrowUpOutlined } from '@ant-design/icons';\nimport { Card, Col, Row, Statistic } from 'antd';\nimport QuizComplete from '../QuizComplete';\nimport baseUrl from '../../config';\nconst apiPath = 'quiz/attempt_by_user/';\nconst apiUrl = `${baseUrl}${apiPath}`;\nconst QuizStatistic = () => {\n  const token = sessionStorage.getItem('token');\n  const [correct, setCorrect] = useState(0);\n  const [incorrect, setIncorrect] = useState(0);\n  const [correct_amount, setCorrectAmount] = useState(0);\n  const [incorrect_amount, setIncorrectAmount] = useState(0);\n  const [total, setTotal] = useState(0);\n  const [completed, setCompleted] = useState(0);\n  const get_attempt_by_user = async () => {\n    const response = await fetch(apiUrl, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    if (response.status !== 200) {\n      alert(response.msg);\n    } else {\n      calculate(data.results);\n    }\n  };\n  useEffect(() => {\n    get_attempt_by_user();\n  });\n  const calculate = quizes => {\n    const correct = quizes.filter(quiz => quiz.result === true);\n    setCorrectAmount(correct.length);\n    const total = quizes.length;\n    setIncorrectAmount(total - correct.length);\n    setTotal(total);\n    const correct_percentage = (correct.length / total * 100).toFixed(2);\n    setCorrect(correct_percentage);\n    setIncorrect(100 - correct_percentage);\n    const arr = quizes.map(quiz => quiz.quiz);\n    const set = new Set(arr);\n    const completed = set.size;\n    setCompleted(completed);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Complete\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: '1px solid #eee',\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(QuizComplete, {\n    total: total,\n    completed: completed,\n    correct: correct_amount,\n    incorrect: incorrect_amount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Correct Percentage\"), /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    bordered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Statistic, {\n    title: \"Correct\",\n    value: correct,\n    precision: 2,\n    valueStyle: {\n      color: '#3f8600'\n    },\n    prefix: /*#__PURE__*/React.createElement(ArrowUpOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }\n    }),\n    suffix: \"%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    bordered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Statistic, {\n    title: \"Incorrect\",\n    value: incorrect,\n    precision: 2,\n    valueStyle: {\n      color: '#cf1322'\n    },\n    prefix: /*#__PURE__*/React.createElement(ArrowDownOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }),\n    suffix: \"%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })))));\n};\nexport default QuizStatistic;","map":{"version":3,"names":["React","useEffect","useState","ArrowDownOutlined","ArrowUpOutlined","Card","Col","Row","Statistic","QuizComplete","baseUrl","apiPath","apiUrl","QuizStatistic","token","sessionStorage","getItem","correct","setCorrect","incorrect","setIncorrect","correct_amount","setCorrectAmount","incorrect_amount","setIncorrectAmount","total","setTotal","completed","setCompleted","get_attempt_by_user","response","fetch","method","headers","data","json","status","alert","msg","calculate","results","quizes","filter","quiz","result","length","correct_percentage","toFixed","arr","map","set","Set","size","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","border","padding","gutter","span","bordered","title","value","precision","valueStyle","color","prefix","suffix"],"sources":["/Users/nelson/Developer/ManezCo/frontend/src/components/QuizStatistic/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { ArrowDownOutlined, ArrowUpOutlined } from '@ant-design/icons';\nimport { Card, Col, Row, Statistic } from 'antd';\nimport QuizComplete from '../QuizComplete';\n\nimport baseUrl from '../../config';\nconst apiPath = 'quiz/attempt_by_user/';\nconst apiUrl = `${baseUrl}${apiPath}`;\n\nconst QuizStatistic = () => {\n  const token = sessionStorage.getItem('token');\n  const [correct, setCorrect] = useState(0);\n  const [incorrect, setIncorrect] = useState(0);\n  const [correct_amount, setCorrectAmount] = useState(0);\n  const [incorrect_amount, setIncorrectAmount] = useState(0);\n  const [total, setTotal] = useState(0);\n  const [completed, setCompleted] = useState(0);\n  const get_attempt_by_user = async () => {\n    const response = await fetch(apiUrl, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      }\n    });\n    const data = await response.json();\n    if (response.status !== 200) {\n      alert(response.msg);\n    } else {\n      calculate(data.results);\n    }\n  }\n\n  useEffect(() => {\n    get_attempt_by_user();\n  });\n\n  const calculate = (quizes) => {\n    const correct = quizes.filter(quiz => quiz.result === true);\n    setCorrectAmount(correct.length);\n    const total = quizes.length;\n    setIncorrectAmount(total-correct.length);\n    setTotal(total);\n    const correct_percentage = (correct.length/total*100).toFixed(2);\n    setCorrect(correct_percentage);\n    setIncorrect(100-correct_percentage);\n\n    const arr = quizes.map(quiz => quiz.quiz);\n    const set = new Set(arr);\n    const completed = set.size;\n    setCompleted(completed);\n  }\n\n  return (\n    <div >  \n      <h3>Complete</h3>\n      <div style={{border: '1px solid #eee',padding:20}}>\n        <QuizComplete total={total} completed={completed} correct={correct_amount} incorrect={incorrect_amount}/>\n      </div>\n\n      <h3>Correct Percentage</h3>\n  <Row gutter={16}>\n    <Col span={12}>\n      <Card bordered={true}>\n        <Statistic\n          title=\"Correct\"\n          value={correct}\n          precision={2}\n          valueStyle={{\n            color: '#3f8600',\n          }}\n          prefix={<ArrowUpOutlined />}\n          suffix=\"%\"\n        />\n      </Card>\n    </Col>\n    <Col span={12}>\n      <Card bordered={true}>\n        <Statistic\n          title=\"Incorrect\"\n          value={incorrect}\n          precision={2}\n          valueStyle={{\n            color: '#cf1322',\n          }}\n          prefix={<ArrowDownOutlined />}\n          suffix=\"%\"\n        />\n      </Card>\n    </Col>\n  </Row>\n</div>\n);}\nexport default QuizStatistic;"],"mappings":"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"},"metadata":{},"sourceType":"module"}