{"ast":null,"code":"var _jsxFileName = \"/Users/nelson/Developer/ManezCo/frontend/src/components/QuizModal/index.js\";\nimport React, { useState } from 'react';\nimport { Modal, Radio, Checkbox, Space } from 'antd';\nimport baseUrl from '../../config';\nconst apiPath = 'quiz/attempt';\nconst apiUrl = `${baseUrl}${apiPath}`;\nconst QuizModal = props => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const token = sessionStorage.getItem('token');\n  const options = [{\n    label: `A: ${props.quiz.SelectA}`,\n    value: props.quiz.SelectA\n  }, {\n    label: `B: ${props.quiz.SelectB}`,\n    value: props.quiz.SelectB\n  }, {\n    label: `C: ${props.quiz.SelectC}`,\n    value: props.quiz.SelectC\n  }, {\n    label: `D: ${props.quiz.SelectD}`,\n    value: props.quiz.SelectD\n  }];\n  const handleRadioChange = e => {\n    setSelectedOption(e.target.value);\n  };\n  const handleCheckboxChange = checkedValues => {\n    const orderedOptions = [props.quiz.SelectA, props.quiz.SelectB, props.quiz.SelectC, props.quiz.SelectD];\n    const selectedOptionsInOrder = orderedOptions.filter(option => checkedValues.includes(option));\n    setSelectedOption(selectedOptionsInOrder);\n  };\n  const showModal = () => {\n    setIsModalOpen(true);\n  };\n  const handleOk = () => {\n    submit_attempt();\n  };\n  const submit_attempt = async () => {\n    const res = Array.isArray(selectedOption) ? selectedOption.join(\",\") : selectedOption;\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        quiz: props.quiz.id,\n        attempt: res\n      })\n    });\n    const data = await response.json();\n    if (data.status !== 200) {\n      console.log(data);\n      const msg = data.result.result ? \"You are right!\" : \"You are wrong!\";\n      alert(msg);\n      setIsModalOpen(false);\n      setSelectedOption(null);\n      props.get_quizes();\n    }\n  };\n  const handleCancel = () => {\n    setIsModalOpen(false);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: showModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"Attempt\"), /*#__PURE__*/React.createElement(Modal, {\n    title: `# ${props.quiz.id} ${props.quiz.type === 0 ? 'Single Choice' : props.quiz.type === 1 ? 'Multiple Choice' : null}`,\n    open: isModalOpen,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    okText: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Quiz: \", props.quiz.description), props.quiz.type === 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Radio.Group, {\n    onChange: handleRadioChange,\n    value: selectedOption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Radio, {\n    value: props.quiz.SelectA,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"A: \", props.quiz.SelectA), /*#__PURE__*/React.createElement(Radio, {\n    value: props.quiz.SelectB,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"B: \", props.quiz.SelectB), /*#__PURE__*/React.createElement(Radio, {\n    value: props.quiz.SelectC,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"C: \", props.quiz.SelectC), /*#__PURE__*/React.createElement(Radio, {\n    value: props.quiz.SelectD,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"D: \", props.quiz.SelectD)))) : props.quiz.type === 1 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Checkbox.Group, {\n    onChange: handleCheckboxChange,\n    value: selectedOption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, options.map(option => /*#__PURE__*/React.createElement(Checkbox, {\n    key: option.value,\n    value: option.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, option.label))))) : null));\n};\nexport default QuizModal;","map":{"version":3,"names":["React","useState","Modal","Radio","Checkbox","Space","baseUrl","apiPath","apiUrl","QuizModal","props","isModalOpen","setIsModalOpen","selectedOption","setSelectedOption","token","sessionStorage","getItem","options","label","quiz","SelectA","value","SelectB","SelectC","SelectD","handleRadioChange","e","target","handleCheckboxChange","checkedValues","orderedOptions","selectedOptionsInOrder","filter","option","includes","showModal","handleOk","submit_attempt","res","Array","isArray","join","response","fetch","method","headers","body","JSON","stringify","id","attempt","data","json","status","console","log","msg","result","alert","get_quizes","handleCancel","createElement","Fragment","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","type","open","onOk","onCancel","okText","description","Group","onChange","direction","map","key"],"sources":["/Users/nelson/Developer/ManezCo/frontend/src/components/QuizModal/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Modal, Radio, Checkbox, Space } from 'antd';\nimport baseUrl from '../../config';\nconst apiPath = 'quiz/attempt';\nconst apiUrl = `${baseUrl}${apiPath}`;\nconst QuizModal = (props) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const token = sessionStorage.getItem('token');\n\n  const options = [\n  { label: `A: ${props.quiz.SelectA}`, value: props.quiz.SelectA },\n  { label: `B: ${props.quiz.SelectB}`, value: props.quiz.SelectB },\n  { label: `C: ${props.quiz.SelectC}`, value: props.quiz.SelectC },\n  { label: `D: ${props.quiz.SelectD}`, value: props.quiz.SelectD },\n];\n  const handleRadioChange = (e) => {\n    setSelectedOption(e.target.value);\n  }\n\n  const handleCheckboxChange = (checkedValues) => {\n    const orderedOptions = [\n      props.quiz.SelectA,\n      props.quiz.SelectB,\n      props.quiz.SelectC,\n      props.quiz.SelectD,\n    ];\n  \n    const selectedOptionsInOrder = orderedOptions.filter(option => checkedValues.includes(option));\n  \n    setSelectedOption(selectedOptionsInOrder);\n  };\n  \n  \n  const showModal = () => {\n    setIsModalOpen(true);\n  };\n  const handleOk = () => {\n    submit_attempt();\n  };\n\n  const submit_attempt = async () => {\n    const res = Array.isArray(selectedOption) ? selectedOption.join(\",\") : selectedOption;\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify({\n        quiz: props.quiz.id,\n        attempt: res,\n      })\n    });\n    const data = await response.json();\n    if (data.status !== 200) {\n      console.log(data);\n      const msg = data.result.result? \"You are right!\": \"You are wrong!\";\n      alert(msg);\n      setIsModalOpen(false);\n      setSelectedOption(null);\n      props.get_quizes();\n    }\n  }\n\n  const handleCancel = () => {\n    setIsModalOpen(false);\n  };\n  return (\n    <>\n      {/* eslint-disable-next-line */}\n      <a onClick={showModal}>\n        Attempt\n      </a>\n      <Modal title={`# ${props.quiz.id} ${props.quiz.type === 0 ? (\n          'Single Choice'\n        ) : props.quiz.type === 1 ? (\n          'Multiple Choice'\n        ) : null}`} open={isModalOpen} onOk={handleOk} onCancel={handleCancel} okText='Submit'>\n        <p>Quiz: {props.quiz.description}</p>\n        {props.quiz.type === 0 ? (\n          <>\n            <Radio.Group onChange={handleRadioChange} value={selectedOption}>\n              <Space direction=\"vertical\">\n                <Radio value={props.quiz.SelectA}>A: {props.quiz.SelectA}</Radio>\n                <Radio value={props.quiz.SelectB}>B: {props.quiz.SelectB}</Radio>\n                <Radio value={props.quiz.SelectC}>C: {props.quiz.SelectC}</Radio>\n                <Radio value={props.quiz.SelectD}>D: {props.quiz.SelectD}</Radio>\n              </Space>\n            </Radio.Group>\n          </>\n        ) : props.quiz.type === 1 ? (\n          <>\n            <Checkbox.Group onChange={handleCheckboxChange} value={selectedOption}>\n              <Space direction=\"vertical\">\n                {options.map(option => (\n                  <Checkbox key={option.value} value={option.value}>\n                    {option.label}\n                  </Checkbox>\n                ))}\n              </Space>\n            </Checkbox.Group>\n          </>\n        ) : null}\n      </Modal>\n    </>\n  );\n};\nexport default QuizModal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}